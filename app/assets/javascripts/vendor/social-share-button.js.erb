$(function(){
  window.SocialShareButton = {
    openUrl: function(url) {
      window.open(url);
      return false;
    },
    share: function(el) {
      var site, title, url, tmp;
      site = $(el).data('site');
      title = encodeURIComponent("毛豆网博客：" + $(el).parent().data('title') + " —— 分享自 @毛豆网在线教育");
      url = encodeURIComponent($(el).parent().data("url"));
      default_img = "http://maodou.io/maodou_all.png";
      img = encodeURIComponent($(el).parent().data("img") || default_img);
      if (url.length === 0) {
        url = encodeURIComponent(location.href);
      }
      switch (site) {
        case "weibo":
          SocialShareButton.openUrl("http://service.weibo.com/share/share.php?url=" + url + "&type=3" + "&pic=" + img + "&title=" + title);
          break;
        case "tqq":
          SocialShareButton.openUrl("http://share.v.t.qq.com/index.php?c=share&a=index&url=" + url +"&title=" + title + "&pic=" + img);
          break;
        case "renren":
          tmp = url +"&srcurl=" + url + "&title=" + title + "&pic=" + img + "&description=";
          SocialShareButton.openUrl("http://widget.renren.com/dialog/share?resourceUrl=" + tmp);
        case "qzone":
          tmp = url +"&srcurl=" + url + "&title=" + title + "&desc=";
          SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=" + tmp);
      }
      return false;
    }
  };
});
